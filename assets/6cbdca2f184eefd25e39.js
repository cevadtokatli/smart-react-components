"use strict";(self.webpackChunksmart_react_components_page=self.webpackChunksmart_react_components_page||[]).push([[687],{20687:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(67294),l=n(94086),o=n(6847),a=n(44583),c=n(40074),i=n(16127),s=n(23655),u=n(23235),d=n(69229),m=n(666),h=n(54870);const p=()=>((0,m.Z)({title:"Router"}),r.createElement(d.Z,null,r.createElement(u.Z,null,r.createElement("div",null,r.createElement("h1",{id:"router"},"Router"),r.createElement("p",null,"SRC router works the same way as the React router does. The only difference between them is that SRC router provides a callback method so you can fetch data before the URL change is applied and renders a progress bar while fetching the data."),r.createElement("p",null,"SRC router uses ",r.createElement("code",null,"react-router")," as a peer dependency. You need to have it in your ",r.createElement("code",null,"package.json")," in order to use the SRC router."),r.createElement("h2",{id:"client-router"},"Client Router"),r.createElement(o.Z,null),r.createElement("p",null,"Client Router uses the HTML5 History API to change URL. It should be inserted at the top of other route components."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"children",type:r.createElement(a.Z,{to:"/api#jsx-children"},"JSXChildren"),isRequired:!0,description:"Child elements."},{name:"routes",type:r.createElement(r.Fragment,null,r.createElement(a.Z,{to:"/api#route-module"},"RouteModule"),"[]"),isRequired:!0,description:"Route modules to load lazily."},{name:"isHashRouter",type:"boolean",defaultValue:"false",description:"Uses hash router and modifies only the hash part of the URL."},{name:"params",type:"any",description:"Params to give to the get method."},{name:"fallback",type:"JSX.Element",description:r.createElement(r.Fragment,null,"Rendered when no children are matched in ",r.createElement(a.Z,{to:"/api#routes"},"Routes"),".")},{name:"progressBar",type:"JSX.Element",description:"Progress bar to display progress waiting for the get method to be resolved."}]}),r.createElement("h2",null,"Server Router"),r.createElement(o.Z,null),r.createElement("p",null,"Server Router works only on the server side. It is used to provide server side rendering. Just like ",r.createElement(a.Z,{to:"/api#client-router"},"Client Router"),", it also should be inserted at the top of other route components."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"children",type:r.createElement(a.Z,{to:"/api#jsx-children"},"JSXChildren"),isRequired:!0,description:"Child elements."},{name:"modules",type:"object",isRequired:!0,description:"Route modules loaded lazily."},{name:"routes",type:r.createElement(r.Fragment,null,r.createElement(a.Z,{to:"/api#route-module"},"RouteModule"),"[]"),isRequired:!0,description:"Route modules to load lazily."},{name:"url",type:"string",isRequired:!0,description:"Initial URL value."},{name:"fallback",type:"JSX.Element",description:r.createElement(r.Fragment,null,"Rendered when no children are matched in ",r.createElement(a.Z,{to:"/api#routes"},"Routes"),".")}]}),r.createElement("h2",null,"Routes"),r.createElement(o.Z,null),r.createElement("p",null,"Routes renders the corresponding route module children."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"children",type:r.createElement(r.Fragment,null,"(","{"," children: JSX.Element, match: ",r.createElement(a.Z,{to:"/api#match"},"Match"),", url: ",r.createElement(a.Z,{to:"/api#url"},"URL")," ","}",") => JSX.Element"),description:"It is called with the match and URL parameters to render the children custom."}]}),r.createElement("h2",null,"Route"),r.createElement(o.Z,null),r.createElement("p",null,"Route renders the children if the path matches the URL."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"children",type:r.createElement(r.Fragment,null,"JSX.Element | (","{"," match: ",r.createElement(a.Z,{to:"/api#match"},"Match"),", url: ",r.createElement(a.Z,{to:"/api#url"},"URL")," ","}",") => JSX.Element"),isRequired:!0,description:"Child elements to be rendered when the path is matched. If given as the function, the component always renders the returned result."},{name:"path",type:r.createElement(a.Z,{to:"/api#path"},"Path"),isRequired:!0,description:"When it matches the URL, Route renders the children."},{name:"isExact",type:"boolean",defaultValue:"true",description:"Route renders the children only when the path matches the URL exactly."}]}),r.createElement("h2",null,"Link"),r.createElement(o.Z,null),r.createElement("p",null,"Renders an ",r.createElement("code",null,"a")," element. When the element is clicked on, it changes the URL, but doesn't reload the page."),r.createElement("p",null,"It provides two different props to its child component; ",r.createElement("code",null,"isActive")," and ",r.createElement("code",null,"isActivating"),". If the current path matches the URL, sets ",r.createElement("code",null,"isActive")," to ",r.createElement("code",null,"true"),". When it is clicked on and while waiting for the get method to be resolved. sets ",r.createElement("code",null,"isActivating")," to ",r.createElement("code",null,"true"),". It also assigns these props as CSS classes to its ",r.createElement("code",null,"a")," element."),r.createElement("h3",null,"Props "),r.createElement(c.Z,{props:[{name:"children",type:r.createElement(r.Fragment,null,r.createElement(a.Z,{to:"/api#content-element"},"ContentElement")," | (","{"," isActive: boolean, isActivating: boolean ","}",") => ",r.createElement(a.Z,{to:"/api#content-element"},"ContentElement")),isRequired:!0,description:r.createElement(r.Fragment,null,r.createElement("code",null,"a")," element content.")},{name:"to",type:"string",isRequired:!0,description:r.createElement(r.Fragment,null,r.createElement("code",null,"a href")," attribute.")},{name:"path",type:r.createElement(a.Z,{to:"/api#path"},"Path"),description:r.createElement(r.Fragment,null,"If it matches the URL, ",r.createElement("code",null,"isActive")," and ",r.createElement("code",null,"isActivating")," props are set to ",r.createElement("code",null,"true")," accordingly. If ",r.createElement("code",null,"null"),", it takes ",r.createElement("code",null,"to")," prop value.")},{name:"isExact",type:"boolean",defaultValue:"true",description:r.createElement(r.Fragment,null,r.createElement("code",null,"isActive")," and ",r.createElement("code",null,"isActivating")," props are set to ",r.createElement("code",null,"true")," when the path matches the URL exactly.")},{name:"isDisabled",type:"boolean",defaultValue:"false",description:r.createElement(r.Fragment,null,"Doesn't bind any of the events and sets ",r.createElement("code",null,"pointerEvents")," as ",r.createElement("code",null,"none")," to ",r.createElement("code",null,"a")," element.")},{name:"as",type:"StyledComponent",description:r.createElement(r.Fragment,null,"Styled component ",r.createElement("code",null,"as")," attribute. It is used to replace ",r.createElement("code",null,"a")," element with your own styled component to style the element.")},{name:"elementProps",type:r.createElement(a.Z,{to:"/api#jsx-element-props"},"JSXElementProps"),description:r.createElement(r.Fragment,null,r.createElement("code",null,"a")," ",r.createElement(a.Z,{to:"/styled-props"},"Styled Props")," and HTML attributes.")}]}),r.createElement(s.Z,null,"Link provides ",r.createElement(a.Z,{to:"/element-props#click-events"},"Click Events")," and ",r.createElement(a.Z,{to:"/element-props#intrinsic-styled-core-props"},"Intrinsic Styled Core Props")," for ",r.createElement("code",null,"a")," element."),r.createElement("p",null,"The navigation is based on ",r.createElement("code",null,"onClick"),". If its event is prevented, the navigation operation gets aborted."),r.createElement("h2",{id:"push"},"Push"),r.createElement(o.Z,null),r.createElement("p",null,"It updates the URL as ",r.createElement("code",null,"to"),"."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"to",type:"string",isRequired:!0,description:"URL to which to push."}]}),r.createElement("h2",{id:"redirect"},"Redirect"),r.createElement(o.Z,null),r.createElement("p",null,"It redirects the page to ",r.createElement("code",null,"to"),"."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"to",type:"string",isRequired:!0,description:"URL to which to redirect."},{name:"isNewTab",type:"boolean",defaultValue:"false",description:"Opens the URL in a new tab."}]}),r.createElement("h2",{id:"replace"},"Replace"),r.createElement(o.Z,null),r.createElement("p",null,"It replaces the URL with ",r.createElement("code",null,"to"),"."),r.createElement("h3",null,"Props"),r.createElement(c.Z,{props:[{name:"to",type:"string",isRequired:!0,description:"URL to which to replace."}]}),r.createElement("h2",{id:"use-router"},"Use Router"),r.createElement("p",null,"All of the router props are automatically given to ",r.createElement(a.Z,{to:"/api#routes"},"Routes")," and ",r.createElement(a.Z,{to:"/api#route"},"Route")," components. However, if you need to access the router props in children components, the SRC router provides a hook for you to access them without having to pass through from parent components."),r.createElement("h2",{id:"router-methods"},"Router Methods"),r.createElement("p",null,"The SRC router modifies HTML5 History API. You can use them directly from the router context using ",r.createElement(a.Z,{to:"/api#use-router"},"Use Router"),"."),r.createElement(h.Z,null,r.createElement("li",null,r.createElement("code",null,"push(to: string) => void"),": Updates the current URL as the given ",r.createElement("code",null,"to")," param."),r.createElement("li",null,r.createElement("code",null,"replace(to: string) => void"),": Replaces the current URL with the given ",r.createElement("code",null,"to")," param."),r.createElement("li",null,r.createElement("code",null,"redirect(to: string, isNewPage?: boolean) => void"),": Redirects the page to the ",r.createElement("code",null,"to")," URL. The second param ",r.createElement("code",null,"isNewPage")," is optional and indicates if the page should be opened in a new tab.")),r.createElement(s.Z,null,"Router methods are not available on the server environment."),r.createElement("h2",{id:"flow"},"Flow"),r.createElement("p",null,"The SRC router is based on two props that are stored in the internal React reducer in ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router"),". These props: ",r.createElement("code",null,"activeURL")," and ",r.createElement("code",null,"activatingURL")," represent the current URL and the navigating URL respectively."),r.createElement("p",null,"The current URL ",r.createElement("code",null,"activeURL")," is the URL by which ",r.createElement(a.Z,{to:"/router#routes"},"Routes")," renders its children. When the URL is updated by ",r.createElement(a.Z,{to:"/router#link"},"Link"),", ",r.createElement(a.Z,{to:"/router#push"},"Push"),", or ",r.createElement(a.Z,{to:"/router#replace"},"Replace")," components; ",r.createElement("code",null,"push")," or ",r.createElement("code",null,"replace")," methods, ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router")," checks if there are any get methods present and if not, directly updates ",r.createElement("code",null,"activeURL")," rendering the new matched components. If a get method is present, ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router")," sets ",r.createElement("code",null,"activatingURL")," to the navigated URL and calls the get method. ",r.createElement(a.Z,{to:"/router#routes"},"Routes")," component doesn't render the new matched component until the get method is resolved and when it's resolved, ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router")," clears ",r.createElement("code",null,"activatingURL")," and sets ",r.createElement("code",null,"activeURL")," to the current URL."),r.createElement("p",null,"Main purpose of the get method is to keep the page intact while rendering a progress bar that represents an indicator for the new page load status until the new page is fully ready to be rendered. It generally is used to send an API request to fetch data for the new page and load the new page module lazy."),r.createElement("h2",{id:"route-modules"},"Route Modules"),r.createElement("p",null,r.createElement("code",null,"routes")," prop is an array of ",r.createElement(a.Z,{to:"/api#route-module"},"Route Module")," objects. Each route module object consists of five items: ",r.createElement("code",null,"path")," is a string and when it matches the URL, the router starts loading the module in order to render the component. ",r.createElement("code",null,"module")," is a function that returns an ",r.createElement("code",null,"import")," object. The module default export should be component to be rendered when ",r.createElement("code",null,"path")," matches the URL. The module can also export a ",r.createElement(a.Z,{to:"/api#get"},"get")," method which is called before the component is rendered. The ",r.createElement(a.Z,{to:"/api#get"},"get")," method should return a ",r.createElement("code",null,"Promise")," for which the SRC router waits to render the component."),r.createElement("p",null,r.createElement("code",null,"searchKeys")," is optional with an array of search keys in the URL. When one of the given keys are changed, it recalls the ",r.createElement(a.Z,{to:"/api#get"},"get")," method just as it does when the URL param is changed. The SRC Router allows you to set default values for the given search keys using ",r.createElement("code",null,"defaultSearchValues")," item in the object."),r.createElement("p",null,"The last item ",r.createElement("code",null,"children")," is optional submodules which is an array of ",r.createElement(a.Z,{to:"/api#route-module"},"Route Modules"),". When you start using ",r.createElement(a.Z,{to:"/api#routes"},"Routes")," component, the first one represents ",r.createElement("code",null,"routes")," prop you give to ",r.createElement(a.Z,{to:"/api#client-router"},"Client Router"),"/",r.createElement(a.Z,{to:"/api#server-router"},"Server Router"),". Each ",r.createElement(a.Z,{to:"/api#routers"},"Routers")," component passes a prop down to its next ",r.createElement(a.Z,{to:"/api#routes"},"Routes")," child component for the child to render ",r.createElement("code",null,"children")," items in the object."),r.createElement("h2",{id:"routes-route"},r.createElement(a.Z,{to:"/api#routes"},"Routes")," vs ",r.createElement(a.Z,{to:"/api#route"},"Route")),r.createElement("p",null,r.createElement(a.Z,{to:"/api#routes"},"Routes")," doesn't accept any props. It renders the corresponding route module in tree structure given to ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router"),"/",r.createElement(a.Z,{to:"/router#server-router"},"Server Router"),". When the URL is changed, it doesn't directly render the new matched component. It first loads the module dynamically, calls the ",r.createElement(a.Z,{to:"/api#get"},"get")," method of the module if any; when the ",r.createElement(a.Z,{to:"/api#get"},"get")," method, which returns a ",r.createElement("code",null,"Promise"),", is resolved, it renders the module component."),r.createElement("p",null,"On the other hand, ",r.createElement(a.Z,{to:"/api#route"},"Route")," doesn't accept modules but directly a component and renders the component if the path is matched. It works the same way as ",r.createElement("code",null,"Route")," component from ",r.createElement("code",null,"react-router-dom")," does."),r.createElement("p",null,r.createElement(a.Z,{to:"/api#routes"},"Routes")," is useful for generic router structure where you have different modules for different pages, load them lazy, and send an API request to fetch data and render progress bar indicator meanwhile. ",r.createElement(a.Z,{to:"/api#route"},"Route")," is useful when you don't need to invoke ",r.createElement(a.Z,{to:"/api#get"},"get")," method beforehand and load modules lazy."),r.createElement("h2",{id:"progress-bar"},"Progress Bar"),r.createElement("p",null,r.createElement(a.Z,{to:"/api#client-router"},"Client Router")," renders ",r.createElement("code",null,"progressBar")," prop when navigated to a new URL which represents a ",r.createElement("code",null,"module")," ",r.createElement("i",null,"(an item in ",r.createElement("code",null,"routes")," prop)"),". ",r.createElement("code",null,"progressBar")," accepts a ",r.createElement("code",null,"number")," prop that indicates the percentage value."),r.createElement("p",null,"The percentage value can be updated by ",r.createElement("code",null,"setPercantage")," param given to the ",r.createElement(a.Z,{to:"/api#get"},"get")," method."),r.createElement("h2",{id:"get-method-additional-params"},"Get Method Additional Params"),r.createElement("p",null,"When you fetch data from the API, you will want to store it in the redux or some similar state management structure; however, you cannot access the redux directly since the ",r.createElement(a.Z,{to:"/api#get"},"get")," method is not out of the react's lifecycle. ",r.createElement(a.Z,{to:"/router#client-router"},"Client Router")," provides ",r.createElement("code",null,"params")," prop to send additional params to the ",r.createElement(a.Z,{to:"/api#get"},"get")," method. You can send the redux store or any additional global props to the ",r.createElement(a.Z,{to:"/api#get"},"get")," method via ",r.createElement("code",null,"params")," prop."),r.createElement("h2",{id:"example"},"Example"),r.createElement("p",null,r.createElement(a.Z,{to:"https://github.com/cevadtokatli/smart-react-components/tree/router-example"},"Click")," for the real world example how the SRC router is used on both the client and the server side.")),r.createElement(i.Z,{next:{label:"Server Side Rendering",to:"/server-side-rendering"},prev:{label:"Transition",to:"/transition"}})),r.createElement(l.Z,{list:[{label:"Router",id:"router"},{label:"Client Router",id:"client-router"},{label:"Server Router",id:"server-router"},{label:"Routes",id:"routes"},{label:"Route",id:"route"},{label:"Link",id:"link"},{label:"Push",id:"push"},{label:"Redirect",id:"redirect"},{label:"Replace",id:"replace"},{label:"Use Router",id:"use-router"},{label:"Router Methods",id:"router-methods"},{label:"Flow",id:"flow"},{label:"Route Modules",id:"route-modules"},{label:"Routes vs Route",id:"routes-route"},{label:"Progress Bar",id:"progress-bar"},{label:"Get Method Additional Params",id:"get-method-additional-params"}]})))}}]);